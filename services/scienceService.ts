
import { Grade, Question } from '../types';

const scienceBank: Record<Grade, Omit<Question, 'id'>[]> = {
  [Grade.PRI_3]: [
    { text: "أي الأجزاء التالية في النبات يعمل على امتصاص الماء والأملاح من التربة؟", options: ["الأوراق", "الأزهار", "الجذور", "الساق"], correctAnswer: "الجذور", category: "أجزاء النبات" },
    { text: "تحتاج النباتات لصنع غذائها إلى ضوء الشمس والماء و غاز:", options: ["الأكسجين", "النيتروجين", "ثاني أكسيد الكربون", "الهيدروجين"], correctAnswer: "ثاني أكسيد الكربون", category: "احتياجات النبات" },
    { text: "ما هي العملية التي يتحول فيها السائل إلى غاز عند تسخينه؟", options: ["الانصهار", "التبخر", "التكثف", "التجمد"], correctAnswer: "التبخر", category: "حالات المادة" },
    { text: "حيوان يغطي جسمه الشعر ويرضع صغاره الحليب، ينتمي لمجموعة:", options: ["الطيور", "الزواحف", "الثدييات", "البرمائيات"], correctAnswer: "الثدييات", category: "تصنيف الحيوانات" },
    { text: "ما الذي يسبب تعاقب الليل والنهار؟", options: ["دوران الأرض حول الشمس", "دوران القمر حول الأرض", "دوران الأرض حول محورها", "ميل محور الأرض"], correctAnswer: "دوران الأرض حول محورها", category: "الأرض والفضاء" },
    { text: "أي الحواس التالية نستخدمها للتمييز بين ملمس الخشن والناعم؟", options: ["البصر", "اللمس", "الشم", "التذوق"], correctAnswer: "اللمس", category: "الحواس" },
    { text: "تعتبر الشمس من:", options: ["الكواكب", "الأقمار", "النجوم", "المذنبات"], correctAnswer: "النجوم", category: "الفضاء" },
    { text: "القوة التي تسحب الأجسام نحو الأرض هي:", options: ["المغناطيسية", "الاحتكاك", "الجاذبية", "الدفع"], correctAnswer: "الجاذبية", category: "القوى" },
    { text: "المكان الذي يعيش فيه الكائن الحي ويجد فيه احتياجاته يسمى:", options: ["المجتمع", "الموطن", "الغابة", "الصحراء"], correctAnswer: "الموطن", category: "البيئة" },
    { text: "تبدأ دورة حياة معظم النباتات من:", options: ["الثمرة", "البذرة", "الزهرة", "الغصن"], correctAnswer: "البذرة", category: "دورات الحياة" },
    { text: "أي الأشياء التالية يعتبر من المواد الصلبة؟", options: ["العصير", "البخار", "الكتاب", "الزيت"], correctAnswer: "الكتاب", category: "المادة" },
    { text: "تسمى الحيوانات التي تأكل النباتات واللحوم معاً بـ:", options: ["آكلات اللحوم", "آكلات الأعشاب", "الحيوانات القارتة", "المحللات"], correctAnswer: "الحيوانات القارتة", category: "البيئة" }
  ],
  [Grade.PRI_6]: [
    { text: "أي من التراكيب التالية توجد في الخلية النباتية ولا توجد في الخلية الحيوانية؟", options: ["الغشاء الخلوي", "النواة", "الجدار الخلوي", "السيتوبلازم"], correctAnswer: "الجدار الخلوي", category: "الخلايا" },
    { text: "ما هو الجزء المسؤول عن إنتاج الطاقة في الخلية؟", options: ["النواة", "الميتوكوندريا", "الفجوة العصارية", "جهاز جولجي"], correctAnswer: "الميتوكوندريا", category: "الخلايا" },
    { text: "الصفة التي تمنع صفة أخرى من الظهور تسمى صفة:", options: ["متنحية", "سائدة", "مكتسبة", "فطرية"], correctAnswer: "سائدة", category: "الوراثة" },
    { text: "تنتقل الحرارة في السوائل والغازات عن طريق:", options: ["التوصيل", "الإشعاع", "الحمل", "الاحتكاك"], correctAnswer: "الحمل", category: "الطاقة" },
    { text: "أي مما يلي يعتبر تغيراً كيميائياً؟", options: ["انصهار الثلج", "صدأ الحديد", "كسر الزجاج", "ذوبان السكر"], correctAnswer: "صدأ الحديد", category: "تغيرات المادة" },
    { text: "تسمى العلاقة التي يستفيد فيها كائن حي ويتضرر الآخر بـ:", options: ["تبادل المنفعة", "التعايش", "التطفل", "الافتراس"], correctAnswer: "التطفل", category: "الأنظمة البيئية" },
    { text: "أي طبقة من طبقات الأرض تكون في حالة سائلة؟", options: ["القشرة", "الستار العلوي", "اللب الخارجي", "اللب الداخلي"], correctAnswer: "اللب الخارجي", category: "بنية الأرض" },
    { text: "ما هو العنصر الكيميائي الذي يمثله الرمز (O)؟", options: ["الذهب", "الأكسجين", "الحديد", "الكربون"], correctAnswer: "الأكسجين", category: "المادة" },
    { text: "تسمى المسافة التي يقطعها الضوء في سنة كاملة بـ:", options: ["الوحدة الفلكية", "السنة الضوئية", "السرعة الكونية", "الميل الضوئي"], correctAnswer: "السنة الضوئية", category: "الفضاء" },
    { text: "ما الذي يسبب حدوث الفصول الأربعة؟", options: ["دوران الأرض حول نفسها", "ميل محور الأرض ودورانها حول الشمس", "دوران القمر حول الأرض", "تغير نشاط الشمس"], correctAnswer: "ميل محور الأرض ودورانها حول الشمس", category: "الفضاء" },
    { text: "تسمى الكائنات التي تقوم بتحليل بقايا الكائنات الميتة بـ:", options: ["المنتجات", "المستهلكات", "المحللات", "المفترسات"], correctAnswer: "المحللات", category: "البيئة" },
    { text: "أي جهاز يستخدم لقياس القوة؟", options: ["الميزان ذو الكفتين", "الميزان النابضي", "المخبر المدرج", "المتر"], correctAnswer: "الميزان النابضي", category: "القوى" },
    { text: "الوحدة الأساسية لبناء الكائن الحي هي:", options: ["العضو", "النسيج", "الخلية", "الجهاز"], correctAnswer: "الخلية", category: "الخلايا" },
    { text: "تسمى الصخور الناتجة عن تبريد الماغما بـ:", options: ["صخور رسوبية", "صخور نارية", "صخور متحولة", "صخور جيرية"], correctAnswer: "صخور نارية", category: "الأرض" },
    { text: "ما هو الغاز الذي يشكل النسبة الأكبر في الغلاف الجوي؟", options: ["الأكسجين", "ثاني أكسيد الكربون", "النيتروجين", "الهيليوم"], correctAnswer: "النيتروجين", category: "الغلاف الجوي" }
  ],
  [Grade.INT_3]: [
    { text: "تتركز كتلة الذرة في:", options: ["الإلكترونات", "النواة", "المستويات الخارجية", "الفراغ المحيط"], correctAnswer: "النواة", category: "الذرة" },
    { text: "الجسيمات التي تحمل شحنة سالبة وتدور حول النواة هي:", options: ["البروتونات", "النيوترونات", "الإلكترونات", "الكواركات"], correctAnswer: "الإلكترونات", category: "الذرة" },
    { text: "عناصر المجموعة الأولى في الجدول الدوري (باستثناء الهيدروجين) تسمى:", options: ["الفلزات القلوية", "الفلزات القلوية الأرضية", "الهالوجينات", "الغازات النبيلة"], correctAnswer: "الفلزات القلوية", category: "الجدول الدوري" },
    { text: "الرابطة التي تنشأ بين أيون موجب وأيون سالب تسمى رابطة:", options: ["تساهمية", "فلزية", "أيونية", "هيدروجينية"], correctAnswer: "أيونية", category: "الروابط الكيميائية" },
    { text: "ما هو المعدل الزمني لتغير السرعة المتجهة؟", options: ["السرعة اللحظية", "التسارع", "الإزاحة", "الزخم"], correctAnswer: "التسارع", category: "الحركة" },
    { text: "ينص قانون نيوتن الثالث على أن لكل فعل رد فعل مساوٍ له في المقدار و:", options: ["في نفس الاتجاه", "مضاعف له", "معاكس له في الاتجاه", "عمودي عليه"], correctAnswer: "معاكس له في الاتجاه", category: "القوى" },
    { text: "وفقاً لقانون أوم، الجهد الكهربائي يساوي:", options: ["التيار / المقاومة", "التيار × المقاومة", "المقاومة / التيار", "التيار + المقاومة"], correctAnswer: "التيار × المقاومة", category: "الكهرباء" },
    { text: "ما اسم الانقسام الذي ينتج عنه خلايا جنسية (جاميتات)؟", options: ["الانقسام المتساوي", "الانقسام المنصف (الميوزي)", "الانشطار الثنائي", "التبرعم"], correctAnswer: "الانقسام المنصف (الميوزي)", category: "الأحياء" },
    { text: "الجزيء الذي يحمل الشفرة الوراثية في الخلية هو:", options: ["ATP", "RNA", "DNA", "الأنسولين"], correctAnswer: "DNA", category: "الوراثة" },
    { text: "تحدث عملية الاندماج النووي التي تنتج طاقة النجوم في:", options: ["الستار", "النواة (اللب)", "القشرة", "الغلاف الجوي"], correctAnswer: "النواة (اللب)", category: "الفضاء" },
    { text: "أي مما يلي يعتبر مثالاً على آلة بسيطة؟", options: ["السيارة", "الرافعة", "الحاسوب", "المحرك"], correctAnswer: "الرافعة", category: "الفيزياء" },
    { text: "تسمى المادة التي تسرع التفاعل الكيميائي دون أن تستهلك بـ:", options: ["المذيب", "المحفز (العامل المساعد)", "الناتج", "المتفاعل"], correctAnswer: "المحفز (العامل المساعد)", category: "الكيمياء" },
    { text: "ما هي وحدة قياس القدرة الكهربائية؟", options: ["الفولت", "الأمبير", "الأوم", "الواط"], correctAnswer: "الواط", category: "الكهرباء" },
    { text: "أي نوع من المرايا يكون صورة تقديرية ومعتدلة ومصغرة دائماً؟", options: ["المرايا المقعرة", "المرايا المحدبة", "المرايا المستوية", "العدسات المحدبة"], correctAnswer: "المرايا المحدبة", category: "الفيزياء" },
    { text: "عندما تقع الأرض بين الشمس والقمر، تحدث ظاهرة:", options: ["كسوف الشمس", "خسوف القمر", "المد والجزر", "الاعتدال الخريفي"], correctAnswer: "خسوف القمر", category: "الفضاء" },
    { text: "ما هو العضو المسؤول عن تصفية الدم من الفضلات في جسم الإنسان؟", options: ["القلب", "الكبد", "الكلية", "الرئة"], correctAnswer: "الكلية", category: "أجهزة الجسم" },
    { text: "ما الحالة التي تكون فيها المادة ذات حجم ثابت وشكل متغير؟", options: ["الصلبة", "السائلة", "الغازية", "البلازما"], correctAnswer: "السائلة", category: "المادة" },
    { text: "أي كواكب المجموعة الشمسية هو الأكبر حجماً؟", options: ["زحل", "المشتري", "الأرض", "نبتون"], correctAnswer: "المشتري", category: "الفضاء" },
    { text: "تسمى القوة التي تقاوم انزلاق الأجسام فوق بعضها بـ:", options: ["الجاذبية", "الاحتكاك", "الدفع", "الشد"], correctAnswer: "الاحتكاك", category: "القوى" },
    { text: "ما هو الرقم الهيدروجيني (pH) للمواد القاعدية؟", options: ["أقل من 7", "يساوي 7", "أكبر من 7", "يساوي 0"], correctAnswer: "أكبر من 7", category: "الكيمياء" }
  ]
};

export interface ScienceFact {
  title: string;
  description: string;
  category: 'biology' | 'physics' | 'chemistry' | 'earth' | 'space';
}

const factsBank: Record<Grade, ScienceFact[]> = {
  [Grade.PRI_3]: [
    { title: "تنفس النباتات", description: "النباتات تمتلك فتحات مجهرية على أوراقها تسمى 'الثغور'، من خلالها تمتص ثاني أكسيد الكربون وتطلق الأكسجين الذي نتنفسه.", category: 'biology' },
    { title: "عالم النحل", description: "النحلة الواحدة تزور حوالي 50 إلى 100 زهرة في الرحلة الواحدة لجمع الرحيق وصناعة العسل اللذيذ.", category: 'biology' },
    { title: "حرارة الشمس", description: "الشمس هي أقرب نجم للأرض، وهي كرة عملاقة من الغازات الملتهبة تمدنا بالضوء والحرارة اللازمين للحياة.", category: 'space' },
    { title: "حالات المادة", description: "الماء هو المادة الوحيدة التي توجد في الطبيعة بحالاتها الثلاث: الصلبة (جليد)، والسائلة (ماء)، والغازية (بخار).", category: 'physics' },
    { title: "الجاذبية الأرضية", description: "الجاذبية هي القوة الخفية التي تجعل الأشياء تسقط نحو الأسفل بدلاً من الطيران في الهواء، وهي التي تبقينا ثابتين على الأرض.", category: 'physics' },
    { title: "دورة حياة الضفدع", description: "يبدأ الضفدع حياته كبيضة في الماء، ثم يتحول إلى 'أبو ذنيبة' الذي يتنفس بالخياشيم، ثم ينمو ليصبح ضفدعاً يتنفس بالرئتين.", category: 'biology' },
    { title: "الظل", description: "يتكون الظل عندما يحجب جسم معتم مسار الضوء، ويتغير طول الظل ومكانه حسب موقع الشمس في السماء.", category: 'physics' }
  ],
  [Grade.PRI_6]: [
    { title: "بنية الخلية", description: "تحتوي الخلية النباتية على 'بلاستيدات خضراء' تقوم بعملية البناء الضوئي، و'جدار خلوي' صلب يعطيها شكلاً محدداً، وهما غير موجودين في الخلية الحيوانية.", category: 'biology' },
    { title: "الوراثة المندلية", description: "الصفات الوراثية تنتقل عبر الجينات؛ هناك صفات 'سائدة' تظهر بوضوح، وصفات 'متنحية' قد تختفي في جيل وتظهر في آخر.", category: 'biology' },
    { title: "انتقال الحرارة", description: "تنتقل الحرارة في الأجسام الصلبة عن طريق 'التوصيل'، وفي السوائل والغازات عن طريق 'الحمل'، وفي الفراغ عن طريق 'الإشعاع'.", category: 'physics' },
    { title: "باطن الأرض", description: "تتكون الأرض من 4 طبقات رئيسية: القشرة، الستار، اللب الخارجي (سائل)، واللب الداخلي (صلب جداً بسبب الضغط الهائل).", category: 'earth' },
    { title: "المجموعة الشمسية", description: "كوكب المشتري هو أكبر كواكب المجموعة الشمسية، وهو ضخم جداً لدرجة أنه يمكن أن يتسع لجميع الكواكب الأخرى بداخله مرتين.", category: 'space' },
    { title: "التفاعلات الكيميائية", description: "الصدأ هو تفاعل كيميائي يحدث بين الحديد والأكسجين في وجود الرطوبة، مما يؤدي لتكون مادة جديدة تسمى أكسيد الحديد.", category: 'chemistry' },
    { title: "النظام البيئي", description: "يتكون النظام البيئي من مكونات حية (نبات، حيوان) وغير حية (تربة، ماء، هواء)، وأي خلل في أحدها يؤثر على توازن النظام بالكامل.", category: 'earth' }
  ],
  [Grade.INT_3]: [
    { title: "الجدول الدوري", description: "العناصر المرتبة في المجموعة 18 تسمى 'الغازات النبيلة'؛ وهي خاملة كيميائياً لأن مستويات طاقتها الخارجية مكتملة تماماً بالإلكترونات.", category: 'chemistry' },
    { title: "ميكانيكا نيوتن", description: "القصور الذاتي هو ميل الجسم لمقاومة أي تغيير في حالته الحركية، فإذا كنت في سيارة وتوقفت فجأة، يندفع جسمك للأمام بسبب هذه القوة.", category: 'physics' },
    { title: "الحمض النووي DNA", description: "الـ DNA هو المخطط الرئيسي للحياة، وهو عبارة عن شريط مزدوج لولبي يحتوي على المعلومات الوراثية التي تحدد كل شيء في الكائن الحي.", category: 'biology' },
    { title: "توسع الكون", description: "اكتشف العلماء أن المجرات تتباعد عن بعضها البعض بسرعات هائلة، مما يعني أن الكون في حالة توسع دائم منذ الانفجار العظيم.", category: 'space' },
    { title: "الروابط الكيميائية", description: "تنشأ الرابطة الأيونية عند انتقال إلكترونات من ذرة فلز إلى ذرة لافلز، بينما تنشأ الرابطة التساهمية عند مشاركة الإلكترونات بين الذرات.", category: 'chemistry' },
    { title: "الكهرباء والمغناطيسية", description: "أثبت العالم فاراداي أن تحريك مغناطيس داخل ملف سلكي يولد تياراً كهربائياً، وهي الفكرة الأساسية لعمل المولدات الكهربائية العملاقة.", category: 'physics' },
    { title: "الصفائح التكتونية", description: "تتحرك قشرة الأرض فوق طبقة الوشاح اللينة، وتسبب حركتها الزلازل وتكون الجبال والبراكين عند حدود هذه الصفائح.", category: 'earth' }
  ]
};

export const generateScienceQuestions = (grade: Grade, count: number = 10): Question[] => {
  const bank = scienceBank[grade] || scienceBank[Grade.PRI_3];
  const shuffled = [...bank].sort(() => 0.5 - Math.random());
  return shuffled.slice(0, Math.min(count, bank.length)).map((q, index) => ({
    ...q,
    id: index + 1
  }));
};

export const getEnrichingFacts = (grade: Grade, count: number = 5): ScienceFact[] => {
  const bank = factsBank[grade] || factsBank[Grade.PRI_3];
  const shuffled = [...bank].sort(() => 0.5 - Math.random());
  return shuffled.slice(0, count);
};
