
import { Grade, Question } from '../types';

const scienceBank: Record<Grade, Omit<Question, 'id'>[]> = {
  [Grade.PRI_3]: [
    { text: "أي الأجزاء التالية في النبات يعمل على امتصاص الماء والأملاح من التربة؟", options: ["الأوراق", "الأزهار", "الجذور", "الساق"], correctAnswer: "الجذور", category: "أجزاء النبات" },
    { text: "تحتاج النباتات لصنع غذائها إلى ضوء الشمس والماء و غاز:", options: ["الأكسجين", "النيتروجين", "ثاني أكسيد الكربون", "الهيدروجين"], correctAnswer: "ثاني أكسيد الكربون", category: "احتياجات النبات" },
    { text: "ما هي العملية التي يتحول فيها السائل إلى غاز عند تسخينه؟", options: ["الانصهار", "التبخر", "التكثف", "التجمد"], correctAnswer: "التبخر", category: "حالات المادة" },
    { text: "حيوان يغطي جسمه الشعر ويرضع صغاره الحليب، ينتمي لمجموعة:", options: ["الطيور", "الزواحف", "الثدييات", "البرمائيات"], correctAnswer: "الثدييات", category: "تصنيف الحيوانات" },
    { text: "ما الذي يسبب تعاقب الليل والنهار؟", options: ["دوران الأرض حول الشمس", "دوران القمر حول الأرض", "دوران الأرض حول محورها", "ميل محور الأرض"], correctAnswer: "دوران الأرض حول محورها", category: "الأرض والفضاء" },
    { text: "أي الحواس التالية نستخدمها للتمييز بين ملمس الخشن والناعم؟", options: ["البصر", "اللمس", "الشم", "التذوق"], correctAnswer: "اللمس", category: "الحواس" },
    { text: "تعتبر الشمس من:", options: ["الكواكب", "الأقمار", "النجوم", "المذنبات"], correctAnswer: "النجوم", category: "الفضاء" },
    { text: "القوة التي تسحب الأجسام نحو الأرض هي:", options: ["المغناطيسية", "الاحتكاك", "الجاذبية", "الدفع"], correctAnswer: "الجاذبية", category: "القوى" },
    { text: "المكان الذي يعيش فيه الكائن الحي ويجد فيه احتياجاته يسمى:", options: ["المجتمع", "الموطن", "الغابة", "الصحراء"], correctAnswer: "الموطن", category: "البيئة" },
    { text: "تبدأ دورة حياة معظم النباتات من:", options: ["الثمرة", "البذرة", "الزهرة", "الغصن"], correctAnswer: "البذرة", category: "دورات الحياة" },
    { text: "أي الأشياء التالية يعتبر من المواد الصلبة؟", options: ["العصير", "البخار", "الكتاب", "الزيت"], correctAnswer: "الكتاب", category: "المادة" },
    { text: "تسمى الحيوانات التي تأكل النباتات واللحوم معاً بـ:", options: ["آكلات اللحوم", "آكلات الأعشاب", "الحيوانات القارتة", "المحللات"], correctAnswer: "الحيوانات القارتة", category: "البيئة" }
  ],
  [Grade.PRI_6]: [
    // مستوحى من نماذج سادس (خلايا، وراثة، بيئة، مادة)
    { text: "أي من التراكيب التالية توجد في الخلية النباتية ولا توجد في الخلية الحيوانية؟", options: ["الغشاء الخلوي", "النواة", "الجدار الخلوي", "السيتوبلازم"], correctAnswer: "الجدار الخلوي", category: "الخلايا" },
    { text: "ما هو الجزء المسؤول عن إنتاج الطاقة في الخلية؟", options: ["النواة", "الميتوكوندريا", "الفجوة العصارية", "جهاز جولجي"], correctAnswer: "الميتوكوندريا", category: "الخلايا" },
    { text: "الصفة التي تمنع صفة أخرى من الظهور تسمى صفة:", options: ["متنحية", "سائدة", "مكتسبة", "فطرية"], correctAnswer: "سائدة", category: "الوراثة" },
    { text: "تنتقل الحرارة في السوائل والغازات عن طريق:", options: ["التوصيل", "الإشعاع", "الحمل", "الاحتكاك"], correctAnswer: "الحمل", category: "الطاقة" },
    { text: "أي مما يلي يعتبر تغيراً كيميائياً؟", options: ["انصهار الثلج", "صدأ الحديد", "كسر الزجاج", "ذوبان السكر"], correctAnswer: "صدأ الحديد", category: "تغيرات المادة" },
    { text: "تسمى العلاقة التي يستفيد فيها كائن حي ويتضرر الآخر بـ:", options: ["تبادل المنفعة", "التعايش", "التطفل", "الافتراس"], correctAnswer: "التطفل", category: "الأنظمة البيئية" },
    { text: "أي طبقة من طبقات الأرض تكون في حالة سائلة؟", options: ["القشرة", "الستار العلوي", "اللب الخارجي", "اللب الداخلي"], correctAnswer: "اللب الخارجي", category: "بنية الأرض" },
    { text: "ما هو العنصر الكيميائي الذي يمثله الرمز (O)؟", options: ["الذهب", "الأكسجين", "الحديد", "الكربون"], correctAnswer: "الأكسجين", category: "المادة" },
    { text: "تسمى المسافة التي يقطعها الضوء في سنة كاملة بـ:", options: ["الوحدة الفلكية", "السنة الضوئية", "السرعة الكونية", "الميل الضوئي"], correctAnswer: "السنة الضوئية", category: "الفضاء" },
    { text: "ما الذي يسبب حدوث الفصول الأربعة؟", options: ["دوران الأرض حول نفسها", "ميل محور الأرض ودورانها حول الشمس", "دوران القمر حول الأرض", "تغير نشاط الشمس"], correctAnswer: "ميل محور الأرض ودورانها حول الشمس", category: "الفضاء" },
    { text: "تسمى الكائنات التي تقوم بتحليل بقايا الكائنات الميتة بـ:", options: ["المنتجات", "المستهلكات", "المحللات", "المفترسات"], correctAnswer: "المحللات", category: "البيئة" },
    { text: "أي جهاز يستخدم لقياس القوة؟", options: ["الميزان ذو الكفتين", "الميزان النابضي", "المخبر المدرج", "المتر"], correctAnswer: "الميزان النابضي", category: "القوى" },
    { text: "الوحدة الأساسية لبناء الكائن الحي هي:", options: ["العضو", "النسيج", "الخلية", "الجهاز"], correctAnswer: "الخلية", category: "الخلايا" },
    { text: "تسمى الصخور الناتجة عن تبريد الماغما بـ:", options: ["صخور رسوبية", "صخور نارية", "صخور متحولة", "صخور جيرية"], correctAnswer: "صخور نارية", category: "الأرض" },
    { text: "ما هو الغاز الذي يشكل النسبة الأكبر في الغلاف الجوي؟", options: ["الأكسجين", "ثاني أكسيد الكربون", "النيتروجين", "الهيليوم"], correctAnswer: "النيتروجين", category: "الغلاف الجوي" }
  ],
  [Grade.INT_3]: [
    // مستوحى من نماذج ثالث متوسط (كيمياء، فيزياء، أحياء دقيقة)
    { text: "تتركز كتلة الذرة في:", options: ["الإلكترونات", "النواة", "المستويات الخارجية", "الفراغ المحيط"], correctAnswer: "النواة", category: "الذرة" },
    { text: "الجسيمات التي تحمل شحنة سالبة وتدور حول النواة هي:", options: ["البروتونات", "النيوترونات", "الإلكترونات", "الكواركات"], correctAnswer: "الإلكترونات", category: "الذرة" },
    { text: "عناصر المجموعة الأولى في الجدول الدوري (باستثناء الهيدروجين) تسمى:", options: ["الفلزات القلوية", "الفلزات القلوية الأرضية", "الهالوجينات", "الغازات النبيلة"], correctAnswer: "الفلزات القلوية", category: "الجدول الدوري" },
    { text: "الرابطة التي تنشأ بين أيون موجب وأيون سالب تسمى رابطة:", options: ["تساهمية", "فلزية", "أيونية", "هيدروجينية"], correctAnswer: "أيونية", category: "الروابط الكيميائية" },
    { text: "ما هو المعدل الزمني لتغير السرعة المتجهة؟", options: ["السرعة اللحظية", "التسارع", "الإزاحة", "الزخم"], correctAnswer: "التسارع", category: "الحركة" },
    { text: "ينص قانون نيوتن الثالث على أن لكل فعل رد فعل مساوٍ له في المقدار و:", options: ["في نفس الاتجاه", "مضاعف له", "معاكس له في الاتجاه", "عمودي عليه"], correctAnswer: "معاكس له في الاتجاه", category: "القوى" },
    { text: "وفقاً لقانون أوم، الجهد الكهربائي يساوي:", options: ["التيار / المقاومة", "التيار × المقاومة", "المقاومة / التيار", "التيار + المقاومة"], correctAnswer: "التيار × المقاومة", category: "الكهرباء" },
    { text: "ما اسم الانقسام الذي ينتج عنه خلايا جنسية (جاميتات)؟", options: ["الانقسام المتساوي", "الانقسام المنصف (الميوزي)", "الانشطار الثنائي", "التبرعم"], correctAnswer: "الانقسام المنصف (الميوزي)", category: "الأحياء" },
    { text: "الجزيء الذي يحمل الشفرة الوراثية في الخلية هو:", options: ["ATP", "RNA", "DNA", "الأنسولين"], correctAnswer: "DNA", category: "الوراثة" },
    { text: "تحدث عملية الاندماج النووي التي تنتج طاقة النجوم في:", options: ["الستار", "النواة (اللب)", "القشرة", "الغلاف الجوي"], correctAnswer: "النواة (اللب)", category: "الفضاء" },
    { text: "أي مما يلي يعتبر مثالاً على آلة بسيطة؟", options: ["السيارة", "الرافعة", "الحاسوب", "المحرك"], correctAnswer: "الرافعة", category: "الفيزياء" },
    { text: "تسمى المادة التي تسرع التفاعل الكيميائي دون أن تستهلك بـ:", options: ["المذيب", "المحفز (العامل المساعد)", "الناتج", "المتفاعل"], correctAnswer: "المحفز (العامل المساعد)", category: "الكيمياء" },
    { text: "ما هي وحدة قياس القدرة الكهربائية؟", options: ["الفولت", "الأمبير", "الأوم", "الواط"], correctAnswer: "الواط", category: "الكهرباء" },
    { text: "أي نوع من المرايا يكون صورة تقديرية ومعتدلة ومصغرة دائماً؟", options: ["المرايا المقعرة", "المرايا المحدبة", "المرايا المستوية", "العدسات المحدبة"], correctAnswer: "المرايا المحدبة", category: "الفيزياء" },
    { text: "عندما تقع الأرض بين الشمس والقمر، تحدث ظاهرة:", options: ["كسوف الشمس", "خسوف القمر", "المد والجزر", "الاعتدال الخريفي"], correctAnswer: "خسوف القمر", category: "الفضاء" },
    { text: "ما هو العضو المسؤول عن تصفية الدم من الفضلات في جسم الإنسان؟", options: ["القلب", "الكبد", "الكلية", "الرئة"], correctAnswer: "الكلية", category: "أجهزة الجسم" },
    { text: "ما الحالة التي تكون فيها المادة ذات حجم ثابت وشكل متغير؟", options: ["الصلبة", "السائلة", "الغازية", "البلازما"], correctAnswer: "السائلة", category: "المادة" },
    { text: "أي كواكب المجموعة الشمسية هو الأكبر حجماً؟", options: ["زحل", "المشتري", "الأرض", "نبتون"], correctAnswer: "المشتري", category: "الفضاء" },
    { text: "تسمى القوة التي تقاوم انزلاق الأجسام فوق بعضها بـ:", options: ["الجاذبية", "الاحتكاك", "الدفع", "الشد"], correctAnswer: "الاحتكاك", category: "القوى" },
    { text: "ما هو الرقم الهيدروجيني (pH) للمواد القاعدية؟", options: ["أقل من 7", "يساوي 7", "أكبر من 7", "يساوي 0"], correctAnswer: "أكبر من 7", category: "الكيمياء" }
  ]
};

const factsBank: Record<Grade, string[]> = {
  [Grade.PRI_3]: [
    "النباتات 'تتنفس' من خلال فتحات صغيرة جداً في أوراقها تسمى الثغور.",
    "عين النعامة أكبر من دماغها!",
    "الشمس كبيرة جداً لدرجة أنها يمكن أن تتسع لـ 1.3 مليون كوكب أرض بداخلها.",
    "هناك حالة رابعة للمادة تسمى 'البلازما' وهي التي تشكل النجوم.",
    "يرقة الفراشة تمتلك 12 عيناً صغيرة جداً.",
    "الفيلة هي الحيوانات الوحيدة التي لا يمكنها القفز.",
    "قلب الحوت الأزرق كبير لدرجة أن الإنسان يمكنه السباحة داخل شرايينه.",
    "النحل يمكنه الطيران أعلى من جبل إيفرست!"
  ],
  [Grade.PRI_6]: [
    "الخلايا العصبية في جسمك يمكنها إرسال إشارات بسرعة 400 كم في الساعة.",
    "كوكب الزهرة هو أحر كوكب في المجموعة الشمسية رغم أن عطارد أقرب للشمس.",
    "الماس يتكون من الكربون (مثل قلم الرصاص) تحت ضغط وحرارة شديدين.",
    "الصوت ينتقل في الماء أسرع بـ 4 مرات من انتقاله في الهواء.",
    "نصف الأكسجين الذي نتنفسه يأتي من العوالق النباتية في المحيطات.",
    "يوجد حديد في جسم الإنسان يكفي لصنع مسمار صغير.",
    "بكتيريا الأمعاء في جسمك تزن حوالي 2 كيلوجرام!",
    "الضوء يستغرق 8 دقائق و 20 ثانية ليصل من الشمس إلى الأرض."
  ],
  [Grade.INT_3]: [
    "إذا قمت بفرد حمض DNA الموجود في خلية واحدة، سيصل طوله إلى 2 متر.",
    "العناصر في الجدول الدوري مرتبة حسب عدد البروتونات في نواتها.",
    "الثقوب السوداء ليست ثقوباً بل هي كتل ضخمة مضغوطة بجاذبية هائلة.",
    "الذهب عنصر خامل جداً، لذلك لا يصدأ أبداً مهما مر عليه الزمن.",
    "يوجد في جسم الإنسان حوالي 100 ألف ميل من الأوعية الدموية.",
    "الانفجار العظيم (Big Bang) حدث قبل حوالي 13.8 مليار سنة.",
    "البرق أسخن من سطح الشمس بـ 5 مرات!",
    "إذا سافرت طائرة إلى كوكب بلوتو، ستستغرق الرحلة أكثر من 800 عام."
  ]
};

export const generateScienceQuestions = (grade: Grade, count: number = 10): Question[] => {
  const bank = scienceBank[grade] || scienceBank[Grade.PRI_3];
  const shuffled = [...bank].sort(() => 0.5 - Math.random());
  return shuffled.slice(0, Math.min(count, bank.length)).map((q, index) => ({
    ...q,
    id: index + 1
  }));
};

export const getEnrichingFacts = (grade: Grade, count: number = 5): string[] => {
  const bank = factsBank[grade] || factsBank[Grade.PRI_3];
  const shuffled = [...bank].sort(() => 0.5 - Math.random());
  return shuffled.slice(0, count);
};
