
import { Grade, Question } from '../types';

const scienceBank: Record<Grade, Omit<Question, 'id'>[]> = {
  [Grade.PRI_3]: [
    { text: "أي جزء من النبات مسؤول عن تثبيت النبات في التربة وامتصاص الأملاح؟", options: ["الساق", "الأوراق", "الجذور", "الأزهار"], correctAnswer: "الجذور", category: "أجزاء النبات" },
    { text: "ما وظيفة الساق في النبات؟", options: ["صنع الغذاء", "امتصاص الماء", "نقل الماء والأملاح للأوراق", "تكوين البذور"], correctAnswer: "نقل الماء والأملاح للأوراق", category: "أجزاء النبات" },
    { text: "الأجزاء الخضراء في النبات التي تصنع الغذاء باستخدام ضوء الشمس هي:", options: ["الجذور", "الأوراق", "الأزهار", "الثمار"], correctAnswer: "الأوراق", category: "أجزاء النبات" },
    { text: "المادة التي لها شكل محدد وحجم محدد هي المادة:", options: ["السائلة", "الغازية", "الصلبة", "المتطايرة"], correctAnswer: "الصلبة", category: "حالات المادة" },
    { text: "عند تسخين الماء وتحوله إلى بخار، فإن هذه العملية تسمى:", options: ["التجمد", "التبخر", "التكثف", "الانصهار"], correctAnswer: "التبخر", category: "حالات المادة" },
    { text: "المادة التي تأخذ شكل الوعاء الذي توضع فيه ولها حجم ثابت هي:", options: ["الغاز", "الصلب", "السائل", "البخار"], correctAnswer: "السائل", category: "حالات المادة" },
    { text: "حيوانات يغطي جسمها الشعر أو الفرو وترضع صغارها الحليب:", options: ["الطيور", "الزواحف", "الثدييات", "الأسماك"], correctAnswer: "الثدييات", category: "تصنيف الحيوانات" },
    { text: "أي من الحيوانات التالية يغطي جسمه الريش؟", options: ["الخفاش", "النعامة", "الدلفين", "التمساح"], correctAnswer: "النعامة", category: "تصنيف الحيوانات" },
    { text: "تعيش البرمائيات (مثل الضفدع) جزءاً من حياتها في الماء والجزء الآخر على:", options: ["الأشجار", "اليابسة", "السحب", "الجليد"], correctAnswer: "اليابسة", category: "تصنيف الحيوانات" },
    { text: "يدور القمر حول الأرض مرة كل:", options: ["يوم واحد", "أسبوع", "شهر تقريباً", "سنة"], correctAnswer: "شهر تقريباً", category: "الفضاء" },
    { text: "تعاقب الليل والنهار ينتج عن دوران الأرض حول:", options: ["الشمس", "نفسها", "القمر", "كوكب المريخ"], correctAnswer: "نفسها", category: "الفضاء" },
    { text: "أقرب كوكب إلى الشمس في مجموعتنا الشمسية هو:", options: ["الأرض", "المريخ", "عطارد", "الزهرة"], correctAnswer: "عطارد", category: "الفضاء" },
    { text: "القوة التي تسحب الأجسام نحو الأرض تسمى:", options: ["الاحتكاك", "المغناطيسية", "الجاذبية", "الكهرباء"], correctAnswer: "الجاذبية", category: "القوى" },
    { text: "عند فرك اليدين ببعضهما نشعر بالحرارة بسبب قوة:", options: ["الشد", "الاحتكاك", "الدفع", "المغناطيس"], correctAnswer: "الاحتكاك", category: "القوى" },
    { text: "المصدر الطبيعي الأكبر للضوء والحرارة على الأرض هو:", options: ["النار", "القمر", "الشمس", "النجوم البعيدة"], correctAnswer: "الشمس", category: "الطاقة" },
    { text: "تبدأ دورة حياة معظم النباتات بـ:", options: ["الثمرة", "البذرة", "الزهرة", "الغصن"], correctAnswer: "البذرة", category: "دورات الحياة" },
    { text: "تخرج الفراشة من البيضة على شكل:", options: ["شرنقة", "يرقة", "فراشة كاملة", "حشرة زاحفة"], correctAnswer: "يرقة", category: "دورات الحياة" },
    { text: "ماذا يسمى صغير الضفدع الذي يعيش في الماء؟", options: ["يرقة", "أبو ذنيبة", "جرو", "كتكوت"], correctAnswer: "أبو ذنيبة", category: "دورات الحياة" },
    { text: "ما هو الموطن الصحراوي؟", options: ["مكان بارد جداً", "مكان فيه الكثير من الأمطار", "مكان جاف قليل الأمطار", "غابة كثيفة"], correctAnswer: "مكان جاف قليل الأمطار", category: "البيئات" },
    { text: "أي من الحواس التالية نستخدمها لمعرفة ملمس الريشة؟", options: ["البصر", "السمع", "اللمس", "الشم"], correctAnswer: "اللمس", category: "الحواس" }
  ],
  [Grade.PRI_6]: [
    { text: "أي من التراكيب التالية يوجد في الخلية النباتية ولا يوجد في الخلية الحيوانية؟", options: ["النواة", "الجدار الخلوي", "السيتوبلازم", "الغشاء الخلوي"], correctAnswer: "الجدار الخلوي", category: "الخلايا" },
    { text: "الجزء الذي يتحكم في جميع أنشطة الخلية هو:", options: ["الميتوكوندريا", "الفجوة العصارية", "النواة", "الكروموسوم"], correctAnswer: "النواة", category: "الخلايا" },
    { text: "تحدث عملية البناء الضوئي في النبات داخل:", options: ["الجذور", "البلاستيدات الخضراء", "النواة", "الميتوكوندريا"], correctAnswer: "البلاستيدات الخضراء", category: "الخلايا" },
    { text: "انتقال الصفات من الآباء إلى الأبناء يسمى:", options: ["النمو", "الوراثة", "التكيف", "التعلم"], correctAnswer: "الوراثة", category: "الوراثة" },
    { text: "أي مما يلي يعتبر صفة موروثة؟", options: ["القراءة", "لون العيون", "ركوب الدراجة", "الرسم"], correctAnswer: "لون العيون", category: "الوراثة" },
    { text: "مجموعة من الكائنات الحية المتشابهة في الشكل والتركيب وقادرة على التكاثر:", options: ["الجنس", "الفصيلة", "النوع", "المملكة"], correctAnswer: "النوع", category: "التصنيف" },
    { text: "جميع الجماعات الحيوية التي تعيش في نظام بيئي معين تشكل:", options: ["المجتمع الحيوي", "الإطار البيئي", "الموطن", "الهرم الغذائي"], correctAnswer: "المجتمع الحيوي", category: "البيئة" },
    { text: "الكائنات التي تصنع غذاءها بنفسها تسمى:", options: ["المستهلكات", "المحللات", "المنتجات", "المفترسات"], correctAnswer: "المنتجات", category: "البيئة" },
    { text: "أي من الموارد التالية يعتبر غير متجدد؟", options: ["الرياح", "الشمس", "النفط", "الماء"], correctAnswer: "النفط", category: "البيئة" },
    { text: "أصغر جزء في العنصر ويحمل صفاته هو:", options: ["الجزيء", "الذرة", "المركب", "النواة"], correctAnswer: "الذرة", category: "المادة" },
    { text: "اتحاد عنصرين أو أكثر كيميائياً ينتج عنه:", options: ["مخلوط", "محلول", "مركب", "سبيكة"], correctAnswer: "مركب", category: "المادة" },
    { text: "أي من التغيرات التالية يعتبر تغيراً كيميائياً؟", options: ["تمزيق الورق", "انصهار الجليد", "صدأ الحديد", "تبخر الماء"], correctAnswer: "صدأ الحديد", category: "المادة" },
    { text: "أي الكواكب التالية يعتبر كوكباً غازياً عملاقاً؟", options: ["المريخ", "الأرض", "المشتري", "عطارد"], correctAnswer: "المشتري", category: "الفضاء" },
    { text: "تحدث ظاهرة خسوف القمر عندما تقع الأرض بين الشمس والقمر ويكون القمر في طور:", options: ["الهلال", "البدر", "التربيع الأول", "المحاق"], correctAnswer: "البدر", category: "الفضاء" },
    { text: "المسافة التي يقطعها الضوء في سنة تسمى:", options: ["الوحدة الفلكية", "السنة الضوئية", "الميل الكوني", "السرعة الضوئية"], correctAnswer: "السنة الضوئية", category: "الفضاء" },
    { text: "المسافة المقطوعة في وحدة الزمن تسمى:", options: ["التسارع", "السرعة", "القوة", "الوزن"], correctAnswer: "السرعة", category: "الحركة" },
    { text: "جهاز يستخدم لقياس القوة هو:", options: ["الميزان الحساس", "الميزان النابضي", "الترمومتر", "البارومتر"], correctAnswer: "الميزان النابضي", category: "القوى" },
    { text: "قوة تقاوم حركة الأجسام وتنشأ بين سطوح الأجسام المتلامسة:", options: ["الجاذبية", "المغناطيسية", "الاحتكاك", "الدفع"], correctAnswer: "الاحتكاك", category: "القوى" },
    { text: "ما هو الغاز الذي يمثل النسبة الأكبر في الهواء الجوي؟", options: ["الأكسجين", "النيتروجين", "ثاني أكسيد الكربون", "الأرجون"], correctAnswer: "النيتروجين", category: "الغلاف الجوي" },
    { text: "فتحة في القشرة الأرضية تخرج منها الماغما والغازات:", options: ["الزلزال", "الصدع", "البركان", "الجبل"], correctAnswer: "البركان", category: "الأرض" }
  ],
  [Grade.INT_3]: [
    { text: "العناصر التي لها لمعان وقابلة للطرق والسحب وموصلة جيدة للحرارة هي:", options: ["اللافلزات", "أشباه الفلزات", "الفلزات", "الغازات النبيلة"], correctAnswer: "الفلزات", category: "الكيمياء" },
    { text: "الجسيمات ذات الشحنة السالبة التي تدور حول النواة هي:", options: ["البروتونات", "النيوترونات", "الإلكترونات", "الكواركات"], correctAnswer: "الإلكترونات", category: "الكيمياء" },
    { text: "العدد الذري للعنصر يمثل عدد:", options: ["النيوترونات", "الإلكترونات والنيوترونات", "البروتونات في النواة", "النيوكليونات"], correctAnswer: "البروتونات في النواة", category: "الكيمياء" },
    { text: "أي مما يلي يصف المحاليل الحمضية؟", options: ["رقمها الهيدروجيني pH أكبر من 7", "ملمسها صابوني", "طعمها مر", "رقمها الهيدروجيني pH أقل من 7"], correctAnswer: "رقمها الهيدروجيني pH أقل من 7", category: "الكيمياء" },
    { text: "وفقاً لقانون نيوتن الثالث، لكل فعل رد فعل مساوٍ له في المقدار و:", options: ["في نفس الاتجاه", "مضاعف له", "معاكس له في الاتجاه", "عمودي عليه"], correctAnswer: "معاكس له في الاتجاه", category: "الفيزياء" },
    { text: "يقاس الشغل بوحدة:", options: ["النيوتن", "الجول", "الواط", "المتر/ثانية"], correctAnswer: "الجول", category: "الفيزياء" },
    { text: "المعدل الزمني لتغير السرعة المتجهة يسمى:", options: ["السرعة اللحظية", "التسارع", "القصور الذاتي", "الزخم"], correctAnswer: "التسارع", category: "الفيزياء" },
    { text: "المقاومة الكهربائية تقاس بوحدة:", options: ["الأمبير", "الفولت", "الأوم", "الكولوم"], correctAnswer: "الأوم", category: "الفيزياء" },
    { text: "الانقسام الذي ينتج عنه خلايا تحتوي على نصف عدد الكروموسومات هو الانقسام:", options: ["المتساوي", "المنصف (الاختزالي)", "الثنائي", "البسيط"], correctAnswer: "المنصف (الاختزالي)", category: "الأحياء" },
    { text: "حمض نووي يحمل الشفرة الوراثية وبناء البروتينات:", options: ["ATP", "DNA", "الإنزيم", "الهرمون"], correctAnswer: "DNA", category: "الأحياء" },
    { text: "الجينات المسؤولة عن ظهور الصفة وتمنع الجين الآخر من الظهور تسمى جينات:", options: ["متنحية", "سائدة", "هجينة", "ضعيفة"], correctAnswer: "سائدة", category: "الأحياء" },
    { text: "نظرية تفسر نشأة الكون قبل نحو 13.8 مليار سنة:", options: ["تكتونية الصفائح", "الانفجار العظيم", "التطور", "النسبية"], correctAnswer: "الانفجار العظيم", category: "الفضاء" },
    { text: "أي من أنواع النجوم يعتبر الأقل درجة حرارة بناءً على لونه؟", options: ["الأزرق", "الأبيض", "الأصفر", "الأحمر"], correctAnswer: "الأحمر", category: "الفضاء" },
    { text: "المنطقة التي تحيط بالمغناطيس وتظهر فيها آثار قوته تسمى:", options: ["القطب المغناطيسي", "المجال المغناطيسي", "المركز المغناطيسي", "الخط المغناطيسي"], correctAnswer: "المجال المغناطيسي", category: "الفيزياء" },
    { text: "الاحتباس الحراري ناتج بشكل رئيسي عن زيادة غاز:", options: ["الأكسجين", "الأوزون", "ثاني أكسيد الكربون", "بخار الماء"], correctAnswer: "ثاني أكسيد الكربون", category: "البيئة" },
    { text: "تسمى قدرة النظام البيئي على استيعاب عدد معين من الأفراد بـ:", options: ["المجتمع الحيوي", "السعة التحميلية", "كثافة الجماعة", "التنوع الحيوي"], correctAnswer: "السعة التحميلية", category: "البيئة" },
    { text: "أي مما يلي يعتبر من الطاقة الكهرومغناطيسية؟", options: ["الصوت", "الضوء", "الحرارة", "الضغط"], correctAnswer: "الضوء", category: "الفيزياء" },
    { text: "ما اسم الوحدة الوظيفية في الكلية التي تقوم بفلترة الدم؟", options: ["الخلايا العصبية", "النفرون", "الحويصلات الهوائية", "الأمعاء الدقيقة"], correctAnswer: "النفرون", category: "الأحياء" },
    { text: "أي طبقة من طبقات الغلاف الجوي تحتوي على طبقة الأوزون؟", options: ["التروبوسفير", "الستراتوسفير", "الميزوسفير", "الثيرموسفير"], correctAnswer: "الستراتوسفير", category: "الأرض" },
    { text: "ما هي الرابطة التي تنشأ نتيجة تجاذب كهربائي بين أيونات شحناتها مختلفة؟", options: ["تساهمية", "أيونية", "فلزية", "هيدروجينية"], correctAnswer: "أيونية", category: "الكيمياء" }
  ]
};

const factsBank: Record<Grade, string[]> = {
  [Grade.PRI_3]: [
    "النباتات 'تتنفس' من خلال فتحات صغيرة جداً في أوراقها تسمى الثغور.",
    "عين النعامة أكبر من دماغها!",
    "الشمس كبيرة جداً لدرجة أنها يمكن أن تتسع لـ 1.3 مليون كوكب أرض بداخلها.",
    "هناك حالة رابعة للمادة تسمى 'البلازما' وهي التي تشكل النجوم.",
    "يرقة الفراشة تمتلك 12 عيناً صغيرة جداً.",
    "الفيلة هي الحيوانات الوحيدة التي لا يمكنها القفز.",
    "قلب الحوت الأزرق كبير لدرجة أن الإنسان يمكنه السباحة داخل شرايينه.",
    "النحل يمكنه الطيران أعلى من جبل إيفرست!"
  ],
  [Grade.PRI_6]: [
    "الخلايا العصبية في جسمك يمكنها إرسال إشارات بسرعة 400 كم في الساعة.",
    "كوكب الزهرة هو أحر كوكب في المجموعة الشمسية رغم أن عطارد أقرب للشمس.",
    "الماس يتكون من الكربون (مثل قلم الرصاص) تحت ضغط وحرارة شديدين.",
    "الصوت ينتقل في الماء أسرع بـ 4 مرات من انتقاله في الهواء.",
    "نصف الأكسجين الذي نتنفسه يأتي من العوالق النباتية في المحيطات.",
    "يوجد حديد في جسم الإنسان يكفي لصنع مسمار صغير.",
    "بكتيريا الأمعاء في جسمك تزن حوالي 2 كيلوجرام!",
    "الضوء يستغرق 8 دقائق و 20 ثانية ليصل من الشمس إلى الأرض."
  ],
  [Grade.INT_3]: [
    "إذا قمت بفرد حمض DNA الموجود في خلية واحدة، سيصل طوله إلى 2 متر.",
    "العناصر في الجدول الدوري مرتبة حسب عدد البروتونات في نواتها.",
    "الثقوب السوداء ليست ثقوباً بل هي كتل ضخمة مضغوطة بجاذبية هائلة.",
    "الذهب عنصر خامل جداً، لذلك لا يصدأ أبداً مهما مر عليه الزمن.",
    "يوجد في جسم الإنسان حوالي 100 ألف ميل من الأوعية الدموية.",
    "الانفجار العظيم (Big Bang) حدث قبل حوالي 13.8 مليار سنة.",
    "البرق أسخن من سطح الشمس بـ 5 مرات!",
    "إذا سافرت طائرة إلى كوكب بلوتو، ستستغرق الرحلة أكثر من 800 عام."
  ]
};

export const generateScienceQuestions = (grade: Grade, count: number = 10): Question[] => {
  const bank = scienceBank[grade] || scienceBank[Grade.PRI_3];
  const shuffled = [...bank].sort(() => 0.5 - Math.random());
  return shuffled.slice(0, count).map((q, index) => ({
    ...q,
    id: index + 1
  }));
};

export const getEnrichingFacts = (grade: Grade, count: number = 5): string[] => {
  const bank = factsBank[grade] || factsBank[Grade.PRI_3];
  const shuffled = [...bank].sort(() => 0.5 - Math.random());
  return shuffled.slice(0, count);
};
